---
phase: 08-antd-frontend-refactor
plan: 04
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - frontend/src/components/Sidebar/Sidebar.tsx
  - frontend/src/components/Sidebar/Sidebar.css
autonomous: true

must_haves:
  truths:
    - "Sidebar displays document info (filename, pages, type)"
    - "User can change document type via dropdown"
    - "User can click New Document button"
    - "Confidence level displays with appropriate styling"
  artifacts:
    - path: "frontend/src/components/Sidebar/Sidebar.tsx"
      provides: "Document info sidebar with antd components"
      contains: "Select"
  key_links:
    - from: "frontend/src/components/Sidebar/Sidebar.tsx"
      to: "App.tsx onDocumentTypeChange"
      via: "Select onChange callback"
      pattern: "onDocumentTypeChange"
---

<objective>
Replace Sidebar's custom HTML elements with Ant Design components: Select for document type dropdown, Button for new document, Tag for confidence level, and Typography for labels.

Purpose: Consistent component styling with the rest of the application; better accessibility from antd components.

Output: Sidebar using antd Select, Button, Tag, and layout components.
</objective>

<execution_context>
@C:\Users\abelb\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\abelb\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/08-antd-frontend-refactor/08-RESEARCH.md
@frontend/src/components/Sidebar/Sidebar.tsx
@frontend/src/components/Sidebar/Sidebar.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace Sidebar with antd components</name>
  <files>frontend/src/components/Sidebar/Sidebar.tsx</files>
  <action>
Rewrite `frontend/src/components/Sidebar/Sidebar.tsx`:

```typescript
import { Button, Select, Tag, Typography, Space, Divider } from 'antd';
import { FileOutlined, ReloadOutlined } from '@ant-design/icons';
import type { DocumentMetadata, DocumentType, Confidence } from '../../types/extraction';

const { Text, Title } = Typography;

interface SidebarProps {
  filename: string;
  documentType: DocumentType;
  confidence: Confidence;
  metadata: DocumentMetadata;
  onDocumentTypeChange: (type: DocumentType) => void;
  onNewDocument: () => void;
}

const DOCUMENT_TYPES: DocumentType[] = [
  'Factsheet',
  'Policy Brief',
  'Working Paper',
  'Technical Report',
  'Publication',
];

const confidenceColors: Record<Confidence, string> = {
  high: 'success',
  medium: 'warning',
  low: 'error',
};

export function Sidebar({
  filename,
  documentType,
  confidence,
  metadata,
  onDocumentTypeChange,
  onNewDocument,
}: SidebarProps) {
  return (
    <aside style={{
      width: 280,
      padding: 16,
      background: '#fafafa',
      borderRight: '1px solid #f0f0f0',
      height: '100%',
      overflow: 'auto',
    }}>
      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 16 }}>
        <Title level={5} style={{ margin: 0 }}>Document Info</Title>
        <Button
          icon={<ReloadOutlined />}
          onClick={onNewDocument}
          size="small"
        >
          New
        </Button>
      </div>

      <Divider style={{ margin: '12px 0' }} />

      <Space direction="vertical" size="middle" style={{ width: '100%' }}>
        <div>
          <Text type="secondary" style={{ display: 'block', marginBottom: 4 }}>
            Filename
          </Text>
          <Text strong ellipsis style={{ display: 'block' }}>
            <FileOutlined style={{ marginRight: 8 }} />
            {filename}
          </Text>
        </div>

        <div>
          <Text type="secondary" style={{ display: 'block', marginBottom: 4 }}>
            Pages
          </Text>
          <Text>{metadata.page_count}</Text>
        </div>

        <div>
          <Text type="secondary" style={{ display: 'block', marginBottom: 4 }}>
            Document Type
          </Text>
          <Select
            value={documentType}
            onChange={onDocumentTypeChange}
            style={{ width: '100%' }}
            options={DOCUMENT_TYPES.map(type => ({ value: type, label: type }))}
          />
          <div style={{ marginTop: 8 }}>
            <Tag color={confidenceColors[confidence]}>
              {confidence} confidence
            </Tag>
          </div>
        </div>

        {metadata.title && (
          <div>
            <Text type="secondary" style={{ display: 'block', marginBottom: 4 }}>
              Title
            </Text>
            <Text style={{ display: 'block' }}>{metadata.title}</Text>
          </div>
        )}
      </Space>
    </aside>
  );
}
```

Key changes:
- Select component for document type dropdown (replaces native select)
- Tag component for confidence level with semantic colors
- Button with icon for New Document
- Typography components (Title, Text) for text hierarchy
- Space component for vertical layout
- Divider for visual separation
- Inline styles replace CSS file (simple layout, no custom CSS needed)
  </action>
  <verify>npm run build compiles Sidebar.tsx without errors</verify>
  <done>Sidebar uses antd Select, Button, Tag, and Typography components</done>
</task>

<task type="auto">
  <name>Task 2: Delete Sidebar CSS</name>
  <files>frontend/src/components/Sidebar/Sidebar.css</files>
  <action>
Delete `frontend/src/components/Sidebar/Sidebar.css` entirely.

The Sidebar component now uses inline styles and antd component styling. No custom CSS is needed.
  </action>
  <verify>ls frontend/src/components/Sidebar/ shows only Sidebar.tsx</verify>
  <done>Sidebar.css deleted; no custom CSS for Sidebar component</done>
</task>

</tasks>

<verification>
1. `npm run build` completes successfully
2. Sidebar renders with antd styling
3. Document type Select dropdown works and calls onDocumentTypeChange
4. New Document button works and calls onNewDocument
5. Confidence Tag shows with correct color (green/yellow/red)
6. Filename and title display correctly
7. No Sidebar.css file exists
</verification>

<success_criteria>
- Sidebar uses antd Select for document type
- Sidebar uses antd Button for new document
- Sidebar uses antd Tag for confidence
- Sidebar uses antd Typography for text
- Sidebar.css deleted
- Props interface unchanged
- All callbacks work correctly
</success_criteria>

<output>
After completion, create `.planning/phases/08-antd-frontend-refactor/08-04-SUMMARY.md`
</output>
