---
phase: 05-review-interface
plan: 04
type: execute
wave: 3
depends_on: ["05-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User can see all issues in a scrollable list with selection checkboxes"
    - "User can click an issue and see full details including page number and evidence"
    - "User can type notes on any issue and see notes persist"
    - "User can filter to show only Errors or only Warnings"
    - "User can see a summary bar showing issue counts and selection counts"
  artifacts: []
  key_links: []
---

<objective>
User verification checkpoint for Phase 5: Review Interface.

Purpose: Verify all review features work correctly from a user perspective before proceeding to Phase 6.
Output: User approval to proceed or list of issues to address.
</objective>

<execution_context>
@C:\Users\abelb\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\abelb\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/LEARNINGS.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-review-interface/05-CONTEXT.md
@.planning/phases/05-review-interface/05-01-SUMMARY.md
@.planning/phases/05-review-interface/05-02-SUMMARY.md
@.planning/phases/05-review-interface/05-03-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete review interface for compliance issues:
- Selection checkboxes on each issue card
- Per-issue reviewer notes textarea (200 char limit)
- Per-category bulk select/deselect controls
- Severity filter (All/Errors/Warnings toggle buttons)
- Category filter dropdown
- Fixed summary bar with counts and Generate Report button
- Errors pre-selected by default
  </what-built>
  <how-to-verify>
1. Start the application:
   ```
   python start.py
   ```

2. Upload a test PDF and run compliance checks (Click "Check" button)

3. **Verify REVW-01 (Issue list with checkboxes)**:
   - Each issue card has a checkbox on the left
   - Clicking the checkbox toggles selection (blue highlight when selected)
   - Clicking the issue row expands details (doesn't toggle checkbox)

4. **Verify REVW-02 (Issue card details)**:
   - Expand an issue card by clicking it
   - Confirm it shows: severity icon, message, page number(s)
   - If applicable, shows expected vs actual values
   - Shows "How to fix" guidance if available

5. **Verify REVW-03 (Reviewer notes)**:
   - In expanded issue card, find "Reviewer Notes" textarea
   - Type some notes (confirm ~200 character limit)
   - Collapse and re-expand the card - notes should persist
   - Check that character count updates as you type

6. **Verify REVW-04 (Severity filter)**:
   - In the summary bar at bottom, find filter toggle buttons
   - Click "Errors" - only error issues should show
   - Click "Warnings" - only warning issues should show
   - Click "All" - all issues should show
   - Confirm empty categories are hidden when filtering

7. **Verify REVW-05 (Summary bar)**:
   - Summary bar is fixed at viewport bottom
   - Shows: "X issues (Y selected) - Z Errors, W Warnings"
   - "Select All Visible" button selects all currently filtered issues
   - "Deselect All" button clears all selections
   - "Generate Report" button is disabled when nothing selected

8. **Verify per-category selection**:
   - Each category header has a checkbox
   - Checkbox shows checkmark when all category issues selected
   - Checkbox shows dash (indeterminate) when some issues selected
   - Clicking toggles select all / deselect all for that category
   - Shows "X/Y" count next to category checkbox

9. **Verify selection persistence**:
   - Select some errors and some warnings
   - Filter to "Errors only" - warning selections should persist (not visible but still selected)
   - Filter back to "All" - previously selected warnings should still be selected

10. **Verify errors pre-selected**:
    - Run a new check or reload
    - Confirm all errors are initially selected
    - Confirm all warnings are initially unselected
  </how-to-verify>
  <resume-signal>
Type "approved" if all requirements are met, or describe any issues found.
  </resume-signal>
</task>

</tasks>

<verification>
User confirms all REVW-01 through REVW-05 requirements are satisfied.
</verification>

<success_criteria>
All Phase 5 requirements verified by user:
1. REVW-01: Display issues list with checkboxes for selection
2. REVW-02: Issue cards show page, category, message, expected vs actual, severity
3. REVW-03: User can add reviewer notes per issue
4. REVW-04: User can filter issues by severity (All/Errors/Warnings)
5. REVW-05: Summary bar shows total issues, selected count, error/warning counts
</success_criteria>

<output>
After completion, create `.planning/phases/05-review-interface/05-04-SUMMARY.md`
</output>
